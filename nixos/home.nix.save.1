{ config, pkgs, ... }:


let
  additionalJDKs = with pkgs; [ jdk8 jdk17 jdk21_headless ];
  unstable = import <nixos-unstable> { config = { allowUnfree = true; }; };
in
{
  home-manager.users.winterbear = {
    home.stateVersion = "24.11";
    home.packages = with pkgs; [
      # Shell Tools
      neofetch 
      btop
      oh-my-posh

      # Shell Toys
      pipes
      neo
      tty-clock

      # Development Libraries
      jdk21 # Java Development Kit
      zip # Unzipper
      godot_4 # Godot Game Engine

      # Desktop Applications

      # Security
      unstable._1password-gui # Password Manager

      # Editors
      obsidian # Notes
      vscode # Code Editor
      aseprite-unfree # Pixel Art Editor
      gimp # Image Editor
      audacity # Audio Editor
      obs-studio # Video Recording and Streaming
      kdePackages.kdenlive # Video Editor
      handbrake # Video Encoding
      blockbench # Block Model Editing
      jetbrains.idea-community # Java & Kotlin Editing
      picard # Audio File Tag Editor
      blender # 3D Model Editor

      # Communication
      vesktop # Discord Client

      # Networking & File Management
      filezilla # FTP Client
      xpipe # SSH Connection manager
      jdiskreport # File Tree Analyser

      # Media
      ani-cli # Anime Client
      spotify # Music Streaming
      vlc # Video Player

      # Games
      steam
      lutris
      (prismlauncher.override { jdks = [ jdk8 jdk17 jdk21 jdk21 ]; }) # Minecraft client with multiple JDKs
      glfw
      unstable.r2modman
      wine # Windows Compatibility
      protonup
      protonup-qt
      mangohud

      # Utilities

      # Windows Drive Compatibility
      cifs-utils
      ldmtool
      gparted

      # Virtual Machines
      #dosbox
      #xorg.xorgserver
      #virt-manager
      #virt-viewer
      #spice
      #spice-gtk
      #spice-protocol
      #win-virtio
      #win-spice

      # No longer used
      #krusader
      #krename
      #kdePackages.kompare
      #thunderbird # email client
      #protonmail-bridge # bridge for connecting to proton imap/smtp servers
    ];
    programs.oh-my-posh = {
      enable = true;
      useTheme = "amro";
      enableFishIntegration = true;
      #settings = builtins.fromJSON (builtins.unsafeDiscardStringContext ( "{ \"disable_notice\": true }" ) );
    };
    programs.fish = {
      enable = true;
      interactiveShellInit = "neofetch";
    };

    home.sessionVariables = {
	STEAM_EXTRA_COMPAT_TOOLS_PATHS = "\${HOME}/.steam/root/compatibilitytools.d";
    };

    home.sessionPath = [ "$HOME/.jdks" ];
    home.file = (builtins.listToAttrs (builtins.map (jdk: {
    name = ".jdks/${jdk.version}";
    value = { source = jdk; };
    }) additionalJDKs));


  };


}
